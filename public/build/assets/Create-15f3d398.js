import{T as b,k as _,o as m,f as i,a,w as u,u as t,F as k,Z as F,b as o,d,j as V,e as w,p as M,n as $,g as p}from"./app-8fb7aa4f.js";import{_ as j}from"./AuthenticatedLayout-5bf21177.js";import{B,_ as D,d as N}from"./dayjs.min-ac53b3e5.js";import{P as R}from"./PrimaryButton-584477b9.js";import{_ as c,a as S,b as f}from"./TextInput-a7ae1a2e.js";import"./ApplicationLogo-df9f4e18.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./lodash-1cc0854a.js";const P=o("title",null,"Funds Demo App | Ricardo Rojas",-1),Y={class:"flex justify-between font-semibold text-2xl text-gray-800 dark:text-gray-200 leading-tight"},C={class:"max-w-xl mx-auto text-gray-900 dark:text-gray-100 text-xl mt-6"},T=["onSubmit"],A={class:"mt-4"},E={class:"mt-4"},U={class:"flex items-center justify-end mt-4"},z=o("div",{class:"text-sm text-center mt-4"}," * To register Aliases, first you need to Register the Fund ",-1),L={key:1},X={__name:"Create",setup(O){const e=b({name:"",start:null,manager_uuid:null});let g=_(!1),l=_(null);const h=s=>{e.manager_uuid=s.uuid,e.errors.manager_uuid=null},x=s=>{const r=s.getDate(),n=s.getMonth()+1;return`${s.getFullYear()}-${n}-${r}`},y=s=>{l.value=s,e.start=N(s).format("YYYY-MM-DD"),e.errors.start=null},v=()=>{e.clearErrors(),(!e.name||e.name==="")&&(e.errors.name="Please provide the name of the Fund"),(!e.start||e.start==="")&&(e.errors.start="Please provide the start date"),(!e.manager_uuid||e.manager_uuid==="")&&(e.errors.manager_uuid="Please select a Manager"),!(Object.keys(e.errors).length>0)&&e.post(route("api.funds.store"),{onSuccess:()=>{e.defaults()}})};return(s,r)=>(m(),i(k,null,[a(t(F),null,{default:u(()=>[P]),_:1}),a(j,null,{header:u(()=>[o("h2",Y,[d(" Register New Fund "),a(t(V),{href:s.route("dashboard"),class:"text-sm bg-gray-700 text-white hover:bg-gray-500 dark:bg-white py-1 px-3 dark:text-gray-800 rounded dark:hover:bg-gray-200"},{default:u(()=>[d(" Funds List ")]),_:1},8,["href"])])]),default:u(()=>[o("div",C,[t(g)?p("",!0):(m(),i("form",{key:0,onSubmit:w(v,["prevent"])},[o("div",null,[a(c,{for:"name",value:"Fund Name:"}),a(S,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(e).name,"onUpdate:modelValue":r[0]||(r[0]=n=>t(e).name=n),onFocusin:r[1]||(r[1]=n=>t(e).errors.name=null),autofocus:""},null,8,["modelValue"]),a(f,{class:"mt-2",message:t(e).errors.name},null,8,["message"])]),o("div",A,[a(c,{for:"start",value:"Start Date:"}),a(t(B),{modelValue:t(l),"onUpdate:modelValue":[r[2]||(r[2]=n=>M(l)?l.value=n:l=n),y],format:x},null,8,["modelValue"]),a(f,{class:"mt-2",message:t(e).errors.start},null,8,["message"])]),o("div",E,[a(c,{for:"manager_uuid",value:"Select Manager:"}),a(D,{onSetManager:h}),a(f,{class:"mt-2",message:t(e).errors.manager_uuid},null,8,["message"])]),o("div",U,[a(R,{class:$(["ml-4",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:u(()=>[d(" Register Fund ")]),_:1},8,["class","disabled"])]),z],40,T)),t(g)?(m(),i("div",L)):p("",!0)])]),_:1})],64))}};export{X as default};

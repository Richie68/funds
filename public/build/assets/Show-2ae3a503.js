import{k as g,s as B,u as e,o as s,f as n,t as $,g as r,i as V,m as M,b as t,p as f,e as k,n as S,T as Y,a as w,w as C,F as N,Z as E,d as j,j as L,c as D,q as R,O as F}from"./app-1f4a2ae8.js";import{B as T,d as q,_ as z}from"./dayjs.min-98ee0449.js";import{_ as W}from"./AuthenticatedLayout-e5292a05.js";import{L as Z}from"./LoaderComponent-e9191c18.js";import"./lodash-24870d0c.js";import"./ApplicationLogo-d9b3b1e5.js";import"./_plugin-vue_export-helper-c27b6911.js";const G={key:0,class:"flex w-0 flex-1 items-center pl-4"},H={key:1},I={class:"ml-4 flex flex-shrink-0 space-x-4"},J=t("span",{class:"text-gray-700 dark:text-gray-200","aria-hidden":"true"},"|",-1),K=["onClick"],P=["onClick"],Q={__name:"Alias",props:{alias:Object,fund:Object},setup(m){const l=m;let a=g(!1),p=g(!1),o=g(""),d=g(l.alias);B(()=>{o.value=l.alias.name});const y=()=>{axios.patch(route("api.alias-update",[l.alias.id]),{name:o.value}).then(x=>{d.value=x.data,a.value=!1})},_=()=>{axios.delete(route("api.alias-destroy",[l.alias.id,l.fund.id])).then(x=>{if(x.data===1){p.value=!0;return}console.log("We were unable to detach the alias")})},A=()=>{a.value=!1,o.value=l.alias.name,console.log(o.value),console.log(l.alias)};return(x,h)=>e(p)?r("",!0):(s(),n("li",{key:0,class:S(["flex items-center justify-between pr-5 leading-6",[e(a)?"py-0":"py-2"]])},[e(a)?r("",!0):(s(),n("div",G,$(e(d).name),1)),e(a)?(s(),n("div",H,[V(t("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=v=>f(o)?o.value=v:o=v),class:"h-[40px] dark:text-gray-100 dark:bg-gray-800"},null,512),[[M,e(o)]])])):r("",!0),t("div",I,[e(a)?(s(),n("button",{key:0,type:"button",onClick:y,class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Update")):r("",!0),e(a)?r("",!0):(s(),n("button",{key:1,type:"button",onClick:h[1]||(h[1]=v=>f(a)?a.value=!e(a):a=!e(a)),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Edit")),J,e(a)?r("",!0):(s(),n("button",{key:2,type:"button",onClick:k(_,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Remove",8,K)),e(a)?(s(),n("button",{key:3,type:"button",onClick:k(A,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Cancel",8,P)):r("",!0)])],2))}},X=t("title",null,"Funds Demo App | Ricardo Rojas",-1),ee={class:"flex justify-between font-semibold text-2xl text-gray-800 dark:text-gray-200 leading-tight"},te={class:"max-w-3xl mx-auto text-gray-900 dark:text-gray-100 text-lg"},ae={class:"flex justify-end py-2"},se=t("span",null,"Update",-1),ne=[se],re={key:0},oe={key:1},de={class:"border-t border-b border-gray-800 dark:border-gray-100"},le={class:"divide-y divide-gray-800 dark:divide-gray-100"},ie={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},ue=t("dt",{class:"font-medium leading-6"},"Fund Name",-1),ce={class:"mt-1 flex leading-6 sm:col-span-2 sm:mt-0"},me={key:0,class:"flex-grow text-lg"},ge={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},pe=t("dt",{class:"font-medium leading-6"},"Manager",-1),ye={key:0,class:"mt-1 flex leading-6 sm:col-span-2 sm:mt-0 relative"},fe={key:0,class:"flex-grow text-lg"},xe={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},he=t("dt",{class:"font-medium leading-6"},"Start Date",-1),_e={class:"mt-1 flex leading-6 sm:col-span-2 sm:mt-0"},ve={key:0,class:"flex-grow text-lg"},ke={key:1},be={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},we=t("dt",{class:"font-medium leading-6"},"Aliases",-1),Ce={class:"mt-1 leading-6 sm:col-span-2 sm:mt-0"},$e={role:"list",class:"divide-y divide-gray-800 dark:divide-gray-100 rounded-md border border-gray-700 dark:border-gray-200 overflow-hidden"},Ae={class:"flex items-center justify-between pr-5 leading-6 min-h-[40px]"},je={class:"flex items-center"},De={class:"ml-4 flex flex-shrink-0 space-x-4"},Ve={key:1},Me=["onClick"],Ee={__name:"Show",props:{fund:Object},setup(m){const l=m;let a=Y({name:"",manager:"",start:"",aliases:[]}),p=g(""),o=g(!1),d=g(!1),y=g(new Date),_=g(!1);B(()=>{a.name=l.fund.name,a.manager_uuid=l.fund.manager_uuid,a.manager_name=l.fund.manager.name,a.start=l.fund.start});const A=u=>{const i=u.getDate(),b=u.getMonth()+1;return`${u.getFullYear()}-${b}-${i}`},x=u=>{y.value=u,a.start=q(u).format("YYYY-MM-DD")},h=()=>{_.value=!0,axios.post(route("api.funds.new-alias",[l.fund.id]),{name:p.value}).then(u=>{if(u.data===1){_.value=!1,F.visit(route("fund.show",l.fund.uuid));return}console.log("Something went wrong!!")})},v=()=>{axios.patch(route("api.funds.update",l.fund.uuid),{name:a.name,start:a.start,manager_uuid:a.manager_uuid}).then(u=>{F.visit(route("fund.show",l.fund.uuid))})},U=u=>{a.manager_uuid=u.uuid};return(u,i)=>(s(),n(N,null,[w(e(E),null,{default:C(()=>[X]),_:1}),w(W,null,{header:C(()=>[t("h2",ee,[j(" Funds Details "),w(e(L),{href:u.route("dashboard"),class:"text-sm bg-gray-700 text-white hover:bg-gray-500 dark:bg-white py-1 px-3 dark:text-gray-800 rounded dark:hover:bg-gray-200"},{default:C(()=>[j(" Funds List ")]),_:1},8,["href"])])]),default:C(()=>{var b;return[t("div",te,[t("div",ae,[e(d)?(s(),n("button",{key:0,class:"text-sm mr-4 bg-blue-800 text-white dark:bg-white py-1 px-3 dark:text-blue-800 rounded dark:hover:bg-blue-200",onClick:v},ne)):r("",!0),t("button",{class:"text-sm bg-gray-800 text-white dark:bg-white py-1 px-3 dark:text-gray-800 rounded dark:hover:bg-gray-200",onClick:i[0]||(i[0]=c=>f(d)?d.value=!e(d):d=!e(d))},[e(d)?r("",!0):(s(),n("span",re,"Edit")),e(d)?(s(),n("span",oe,"Cancel")):r("",!0)])]),t("div",de,[t("dl",le,[t("div",ie,[ue,t("dd",ce,[e(d)?r("",!0):(s(),n("span",me,$(m.fund.name),1)),e(d)?V((s(),n("input",{key:1,type:"text","onUpdate:modelValue":i[1]||(i[1]=c=>e(a).name=c)},null,512)),[[M,e(a).name]]):r("",!0)])]),t("div",ge,[pe,m.fund.manager?(s(),n("dd",ye,[e(d)?r("",!0):(s(),n("span",fe,$((b=m.fund.manager)==null?void 0:b.name),1)),e(d)?(s(),D(z,{key:1,onSetManager:U})):r("",!0)])):r("",!0)]),t("div",xe,[he,t("dd",_e,[e(d)?r("",!0):(s(),n("span",ve,$(m.fund.start),1)),e(d)?(s(),n("div",ke,[w(e(T),{modelValue:e(y),"onUpdate:modelValue":[i[2]||(i[2]=c=>f(y)?y.value=c:y=c),x],format:A},null,8,["modelValue"])])):r("",!0)])]),t("div",be,[we,t("dd",Ce,[t("ul",$e,[(s(!0),n(N,null,R(m.fund.aliases,(c,O)=>(s(),D(Q,{alias:c,fund:m.fund,key:O},null,8,["alias","fund"]))),128)),t("li",Ae,[t("div",je,[e(o)?V((s(),n("input",{key:0,type:"text","onUpdate:modelValue":i[3]||(i[3]=c=>f(p)?p.value=c:p=c),class:"h-[40px] dark:text-gray-100 dark:bg-gray-800"},null,512)),[[M,e(p)]]):r("",!0),e(_)?(s(),D(Z,{key:1,class:"ml-4"})):r("",!0)]),t("div",De,[e(o)?r("",!0):(s(),n("button",{key:0,type:"button",onClick:i[4]||(i[4]=k(c=>f(o)?o.value=!0:o=!0,["prevent"])),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"New")),e(o)?(s(),n("div",Ve,[t("button",{type:"button",onClick:k(h,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Add",8,Me),j(" | "),t("button",{type:"button",onClick:i[5]||(i[5]=k(c=>f(o)?o.value=!1:o=!1,["prevent"])),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Cancel")])):r("",!0)])])])])])])])])]}),_:1})],64))}};export{Ee as default};

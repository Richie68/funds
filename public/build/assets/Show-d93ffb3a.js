import{k as i,s as E,u as e,o as s,f as n,t as w,g as o,i as $,m as j,b as a,p as h,e as k,n as B,l as z,F as M,q as S,T as W,a as N,w as V,Z as q,d as D,j as I,c as C,O as F}from"./app-8fb7aa4f.js";import{B as Z,d as G,_ as H}from"./dayjs.min-ac53b3e5.js";import{_ as J}from"./AuthenticatedLayout-5bf21177.js";import{L as K}from"./LoaderComponent-e5049fa2.js";import{l as P}from"./lodash-1cc0854a.js";import"./ApplicationLogo-df9f4e18.js";import"./_plugin-vue_export-helper-c27b6911.js";const Q={key:0,class:"flex w-0 flex-1 items-center pl-4"},X={key:1},ee={class:"ml-4 flex flex-shrink-0 space-x-4"},te=a("span",{class:"text-gray-700 dark:text-gray-200","aria-hidden":"true"},"|",-1),ae=["onClick"],se=["onClick"],ne={__name:"Alias",props:{alias:Object,fund:Object},setup(f){const l=f;let t=i(!1),u=i(!1),r=i(""),b=i(l.alias);E(()=>{r.value=l.alias.name});const v=()=>{axios.patch(route("api.alias-update",[l.alias.id]),{name:r.value}).then(x=>{b.value=x.data,t.value=!1})},d=()=>{axios.delete(route("api.alias-destroy",[l.alias.id,l.fund.id])).then(x=>{if(x.data===1){u.value=!0;return}console.log("We were unable to detach the alias")})},g=()=>{t.value=!1,r.value=l.alias.name};return(x,c)=>e(u)?o("",!0):(s(),n("li",{key:0,class:B(["flex items-center justify-between pr-5 leading-6",[e(t)?"py-0":"py-2"]])},[e(t)?o("",!0):(s(),n("div",Q,w(e(b).name),1)),e(t)?(s(),n("div",X,[$(a("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=_=>h(r)?r.value=_:r=_),class:"h-[40px] dark:text-gray-100 dark:bg-gray-800"},null,512),[[j,e(r)]])])):o("",!0),a("div",ee,[e(t)?(s(),n("button",{key:0,type:"button",onClick:v,class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Update")):o("",!0),e(t)?o("",!0):(s(),n("button",{key:1,type:"button",onClick:c[1]||(c[1]=_=>h(t)?t.value=!e(t):t=!e(t)),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Edit")),te,e(t)?o("",!0):(s(),n("button",{key:2,type:"button",onClick:k(d,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Remove",8,ae)),e(t)?(s(),n("button",{key:3,type:"button",onClick:k(g,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Cancel",8,se)):o("",!0)])],2))}},oe={key:0,class:"flex w-0 flex-1 items-center pl-4"},re={key:1},le={class:"ml-4 flex flex-shrink-0 space-x-4"},de=a("span",{class:"text-gray-700 dark:text-gray-200","aria-hidden":"true"},"|",-1),ie=["onClick"],ue=["onClick"],ce={__name:"Company",props:{company:Object,fund:Object},setup(f){const l=f;let t=i(!1),u=i(!1),r=i(""),b=i(l.company);E(()=>{r.value=l.company.name});const v=()=>{axios.patch(route("api.company-update",[l.company.id]),{name:r.value}).then(x=>{b.value=x.data,t.value=!1})},d=()=>{axios.delete(route("api.company-destroy",[l.company.id,l.fund.id])).then(x=>{if(x.data===1){u.value=!0;return}console.log("We were unable to detach the Company")})},g=()=>{t.value=!1,r.value=l.company.name};return(x,c)=>e(u)?o("",!0):(s(),n("li",{key:0,class:B(["flex items-center justify-between pr-5 leading-6",[e(t)?"py-0":"py-2"]])},[e(t)?o("",!0):(s(),n("div",oe,w(e(b).name),1)),e(t)?(s(),n("div",re,[$(a("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=_=>h(r)?r.value=_:r=_),class:"h-[40px] dark:text-gray-100 dark:bg-gray-800"},null,512),[[j,e(r)]])])):o("",!0),a("div",le,[e(t)?(s(),n("button",{key:0,type:"button",onClick:v,class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Update")):o("",!0),e(t)?o("",!0):(s(),n("button",{key:1,type:"button",onClick:c[1]||(c[1]=_=>h(t)?t.value=!e(t):t=!e(t)),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Edit")),de,e(t)?o("",!0):(s(),n("button",{key:2,type:"button",onClick:k(d,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Remove",8,ie)),e(t)?(s(),n("button",{key:3,type:"button",onClick:k(g,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Cancel",8,ue)):o("",!0)])],2))}},me={class:"relative flex w-full"},pe={key:0,class:"relative flex w-full"},ye={key:0,class:"absolute border top-10 text-sm max-h-[300px] z-20 bg-white overflow-y-scroll w-full"},ge=["onClick"],xe={key:1,class:"flex justify-between w-full"},ve={__name:"FindCompanyComponent",emits:["set-company"],setup(f,{emit:l}){let t=i(""),u=i(null),r=i(null);const b=d=>{axios.post(route("api.company.search"),{search:d}).then(g=>{r.value=g.data})},v=d=>{t.value="",r.value=null,u.value=d,l("set-company",d)};return z(t,P.debounce(function(d){b(d)},500)),(d,g)=>{var x;return s(),n("div",me,[e(u)?(s(),n("div",xe,[a("p",null,w(e(u).name),1),a("button",{class:"text-sm ml-3 border border-gray-600 px-2 bg-gray-700 text-white rounded-lg",onClick:g[1]||(g[1]=k(c=>h(u)?u.value=null:u=null,["prevent"]))},"Change ")])):(s(),n("div",pe,[$(a("input",{class:"w-full",type:"text","onUpdate:modelValue":g[0]||(g[0]=c=>h(t)?t.value=c:t=c),placeholder:"Search ..."},null,512),[[j,e(t)]]),((x=e(r))==null?void 0:x.length)>0?(s(),n("ul",ye,[(s(!0),n(M,null,S(e(r),(c,_)=>(s(),n("li",{key:_,class:"hover:bg-gray-500 hover:text-white cursor-pointer px-2 text-sm",onClick:O=>v(c)},w(c.name),9,ge))),128))])):o("",!0)]))])}}},fe=a("title",null,"Funds Demo App | Ricardo Rojas",-1),he={class:"flex justify-between font-semibold text-2xl text-gray-800 dark:text-gray-200 leading-tight"},_e={class:"max-w-3xl mx-auto text-gray-900 dark:text-gray-100 text-lg"},ke={class:"flex justify-end py-2"},be=a("span",null,"Update",-1),we=[be],Ce={key:0},$e={key:1},je={class:"border-t border-b border-gray-800 dark:border-gray-100"},Ae={class:"divide-y divide-gray-800 dark:divide-gray-100"},Ne={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Ve=a("dt",{class:"font-medium leading-6"},"Fund Name",-1),De={class:"mt-1 flex leading-6 sm:col-span-2 sm:mt-0"},Me={key:0,class:"flex-grow text-lg"},Ue={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Fe=a("dt",{class:"font-medium leading-6"},"Manager",-1),Se={key:0,class:"mt-1 flex leading-6 sm:col-span-2 sm:mt-0 relative"},Ee={key:0,class:"flex-grow text-lg"},Oe={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Be=a("dt",{class:"font-medium leading-6"},"Start Date",-1),Re={class:"mt-1 flex leading-6 sm:col-span-2 sm:mt-0"},Ye={key:0,class:"flex-grow text-lg"},Le={key:1},Te={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},ze=a("dt",{class:"font-medium leading-6"},"Aliases",-1),We={class:"mt-1 leading-6 sm:col-span-2 sm:mt-0"},qe={role:"list",class:"divide-y divide-gray-800 dark:divide-gray-100 rounded-md border border-gray-700 dark:border-gray-200 overflow-hidden"},Ie={class:"flex items-center justify-between pr-5 leading-6 min-h-[40px]"},Ze={class:"flex items-center"},Ge={class:"ml-4 flex flex-shrink-0 space-x-4"},He={key:1},Je=["onClick"],Ke={class:"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Pe=a("dt",{class:"font-medium leading-6"},"Investing in the following Companies",-1),Qe={class:"mt-1 leading-6 sm:col-span-2 sm:mt-0"},Xe={role:"list",class:"divide-y divide-gray-800 dark:divide-gray-100 rounded-md border border-gray-700 dark:border-gray-200"},et={class:"flex items-center justify-between pr-5 leading-6 min-h-[40px]"},tt={class:"flex items-center relative"},at={class:"ml-4 flex flex-shrink-0 space-x-4"},st={key:1},nt=["onClick"],mt={__name:"Show",props:{fund:Object},setup(f){const l=f;let t=W({name:"",manager:"",start:"",aliases:[]}),u=i(""),r=i(!1),b=i(null),v=i(!1);i("");let d=i(!1),g=i(new Date),x=i(!1);E(()=>{t.name=l.fund.name,t.manager_uuid=l.fund.manager_uuid,t.manager_name=l.fund.manager.name,t.start=l.fund.start});const c=p=>{const m=p.getDate(),A=p.getMonth()+1;return`${p.getFullYear()}-${A}-${m}`},_=p=>{g.value=p,t.start=G(p).format("YYYY-MM-DD")},O=()=>{x.value=!0,axios.post(route("api.funds.new-alias",[l.fund.id]),{name:u.value}).then(p=>{if(p.data===1){x.value=!1,F.visit(route("fund.show",l.fund.uuid));return}console.log("Something went wrong!!")})},R=()=>{axios.patch(route("api.funds.update",l.fund.uuid),{name:t.name,start:t.start,manager_uuid:t.manager_uuid}).then(p=>{F.visit(route("fund.show",l.fund.uuid))})},Y=p=>{t.manager_uuid=p.uuid},L=p=>{b.value=p.id},T=()=>{axios.post(route("api.funds.new-company",[l.fund.id,b.value])).then(p=>{if(p.data===1){F.visit(route("fund.show",l.fund.uuid));return}console.log("Something went wrong!!")})};return(p,m)=>(s(),n(M,null,[N(e(q),null,{default:V(()=>[fe]),_:1}),N(J,null,{header:V(()=>[a("h2",he,[D(" Funds Details "),N(e(I),{href:p.route("dashboard"),class:"text-sm bg-gray-700 text-white hover:bg-gray-500 dark:bg-white py-1 px-3 dark:text-gray-800 rounded dark:hover:bg-gray-200"},{default:V(()=>[D(" Funds List ")]),_:1},8,["href"])])]),default:V(()=>{var A;return[a("div",_e,[a("div",ke,[e(d)?(s(),n("button",{key:0,class:"text-sm mr-4 bg-blue-800 text-white dark:bg-white py-1 px-3 dark:text-blue-800 rounded dark:hover:bg-blue-200",onClick:R},we)):o("",!0),a("button",{class:"text-sm bg-gray-800 text-white dark:bg-white py-1 px-3 dark:text-gray-800 rounded dark:hover:bg-gray-200",onClick:m[0]||(m[0]=y=>h(d)?d.value=!e(d):d=!e(d))},[e(d)?o("",!0):(s(),n("span",Ce,"Edit")),e(d)?(s(),n("span",$e,"Cancel")):o("",!0)])]),a("div",je,[a("dl",Ae,[a("div",Ne,[Ve,a("dd",De,[e(d)?o("",!0):(s(),n("span",Me,w(f.fund.name),1)),e(d)?$((s(),n("input",{key:1,type:"text","onUpdate:modelValue":m[1]||(m[1]=y=>e(t).name=y)},null,512)),[[j,e(t).name]]):o("",!0)])]),a("div",Ue,[Fe,f.fund.manager?(s(),n("dd",Se,[e(d)?o("",!0):(s(),n("span",Ee,w((A=f.fund.manager)==null?void 0:A.name),1)),e(d)?(s(),C(H,{key:1,onSetManager:Y})):o("",!0)])):o("",!0)]),a("div",Oe,[Be,a("dd",Re,[e(d)?o("",!0):(s(),n("span",Ye,w(f.fund.start),1)),e(d)?(s(),n("div",Le,[N(e(Z),{modelValue:e(g),"onUpdate:modelValue":[m[2]||(m[2]=y=>h(g)?g.value=y:g=y),_],format:c},null,8,["modelValue"])])):o("",!0)])]),a("div",Te,[ze,a("dd",We,[a("ul",qe,[(s(!0),n(M,null,S(f.fund.aliases,(y,U)=>(s(),C(ne,{alias:y,fund:f.fund,key:U},null,8,["alias","fund"]))),128)),a("li",Ie,[a("div",Ze,[e(r)?$((s(),n("input",{key:0,type:"text","onUpdate:modelValue":m[3]||(m[3]=y=>h(u)?u.value=y:u=y),class:"h-[40px] dark:text-gray-100 dark:bg-gray-800"},null,512)),[[j,e(u)]]):o("",!0),e(x)?(s(),C(K,{key:1,class:"ml-4"})):o("",!0)]),a("div",Ge,[e(r)?o("",!0):(s(),n("button",{key:0,type:"button",onClick:m[4]||(m[4]=k(y=>h(r)?r.value=!0:r=!0,["prevent"])),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"New")),e(r)?(s(),n("div",He,[a("button",{type:"button",onClick:k(O,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Add",8,Je),D(" | "),a("button",{type:"button",onClick:m[5]||(m[5]=k(y=>h(r)?r.value=!1:r=!1,["prevent"])),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Cancel")])):o("",!0)])])])])]),a("div",Ke,[Pe,a("dd",Qe,[a("ul",Xe,[(s(!0),n(M,null,S(f.fund.companies,(y,U)=>(s(),C(ce,{fund:f.fund,company:y,key:U},null,8,["fund","company"]))),128)),a("li",et,[a("div",tt,[e(v)?(s(),C(ve,{key:0,onSetCompany:L})):o("",!0)]),a("div",at,[e(v)?o("",!0):(s(),n("button",{key:0,type:"button",onClick:m[6]||(m[6]=k(y=>h(v)?v.value=!0:v=!0,["prevent"])),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"New")),e(v)?(s(),n("div",st,[a("button",{type:"button",onClick:k(T,["prevent"]),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Add",8,nt),D(" | "),a("button",{type:"button",onClick:m[7]||(m[7]=k(y=>h(v)?v.value=!1:v=!1,["prevent"])),class:"bg-transparent hover:text-gray-800 dark:hover:text-gray-400"},"Cancel")])):o("",!0)])])])])])])])])]}),_:1})],64))}};export{mt as default};
